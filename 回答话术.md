#### 自我介绍

> 面试官你好，我叫王欣，是25届中国科学院大学的硕士，计算机相关专业，技术栈主要以`Vue`为主，对于计算机基础、网络、前端三件套、基本的数据结构与算法等方面都有一定的了解；去年10月份有过一段实习的经历，实习的项目是一个提升气象局工作流程效率的后台管理系统，主要方便内部人员通过拖拽的方式完成作业流的创建与管理，并对作业的状态进行实时监控，通过这次的实习我熟悉了企业日常工作研发流程，积累了一定的独立开发需求和项目上线的经验。另外我也参与过组件库项目的开发，这就是我大致的情况。

#### 实习经历

* 项目的难点亮点

  > 项目本身是一个比较简单B端项目，主要是一些简单的页面的开发工作，但是我在这个开发过程中了解到一个公司在实际项目生产过程中的研发流程，参与了项目需求评审、技术调研以及开发和发布等流程，并将自己所学的知识应用到实际的项目开发过程中；对于`git`的使用以及线上问题的处理也有了一定的经验。

* 线上问题的处理

  > 当出现问题时，优先进行止损。首先排查最近的发布变更的代码将其进行回滚，然后在进行定位问题。首先看用户反馈或者发现问题的场景，在本地启动服务之后进行场景还原，可以使用浏览器自带的`dev tools`去进行排查，通过给源码打断点、查看network网路请求以及控制台报错等来定位问题

#### 中国科学院科研管控平台

* 项目背景

  > 这个项目主要是面向我们学校内部老师、学生和员工使用的内部人员信息管理平台，主要对人员信息、项目信息、资源信息和考勤信息进行管理和维护；不同的用户身份有不同的功能，老师可以进行项目申请、项目资源分配、项目送审等操作，由秘书来进行项目审批；学生和员工是待分配的人力资源可以查看当前的项目，同时可以进行个人信息、资源信息维护、考勤管理等功能。我主要参与开发了项目管理、资源管理、页面权限管理等多个模块的开发，涉及到20多个页面，主要的技术亮点是在项目管理场景下新增了附件上传能力，支持大文件分片和断点续传的能力。

* 大文件上传

  > 在项目管理模块提交项目资料时会遇到上传的项目文件体积较大的场景，如果上传单个文件可能会导致时间过长并且由于网络原因出错后需要重新上传，存在一定的效率和网络资源浪费的问题，因此去查阅了一些资料调研了下业内的一些大文件上传实现方案实现了大文件上传和断点续传功能。
  >
  > 具体实现思路是前端拿到大文件后将其进行分片，以分片为单位依此上传至服务器，后端同学拿到所有的切片后进行文件完整性校验，校验通过后将其组合成一个完整的文件。在这个过程中，我们与后端同学约定文件和每一个切片的标识并通过标识来校验文件的是否完整，同时在上传文件之前先去请求当前的服务器已经存在的切片列表，对于已经存在的切片不进行上传，只上传不存在的切片从而实现断点续传的能力。

* 登录权限

  > 输入用户名和密码之后后端进行用户身份验证，并根据用户ID和失效时间生成`token`返回给前端，前端拿到token中放到`Vuex`中并保存到`localStorage`中，之后请求时携带`token`请求服务端数据

* 页面权限管控

  > 用户登录成功后，后台会返回用户的权限信息，根据权限信息通过`addRoute`动态添加路由规则，当用户输入一个未授权的`url`地址时，通过路由导航守卫对路由进行拦截并重定向到指定的`url`地址。

#### 内部组件库

* 项目背景

  > 学校里的学长有个创业团队，这个团队会有很多承接外部的一些b端项目的机会，我主要在这个团队中负责前端的开发工作，而在实际的项目开发过程中我们发现有很多项目有许多相似的交互和产品功能，于是打算沉淀一套偏场景化的组件库，方便后续在新场景或者新项目中直接快速的复用。对于组件库的管理上我们使用了一个统一的仓库`monorepo`去管理这个组件库，并且通过对应的脚手架来快速的生成组件模版，其次是的消组件费上我们使用`storybook`第三方库构建组件库文档，便于大家使用和查找组件；最后通过`npm`包来发布组件，然后项目开发人员通过`npm`包进行组件的引用；在这些组件中瀑布流组件、消息提示组件、图片懒加载、确认框组件是我独立开发的组件。

* 瀑布流组件

  > 这个组件通过动态分列展示成瀑布流的样式并且根据屏幕的分辨率来适配移动端或者pc端，pc端默认五列移动端默认两列，数据来了之后会根据列数拆分成不同的数组，每次取一个数据放在总长度最小的列表里，通过for循环两个数组进行渲染成两列或者多列瀑布流。

* 长列表组件

  > 主要通过下列加载的形式来实现数据懒加载的功能，减少浏览器渲染开销，具体实现是通过最底部放置一个div并通过判断这个盒子是否在可视窗口内来进行数据加载。
  >
  > 对于长列表一开始是使用下拉加载的形式进行长列表的展示，但当数据量过多无限下拉加载太多的情况下也会出现页面卡顿的情况，然后调研了下相似的场景和业内的解决方案，通过虚拟列表的方式对长列表进行了优化。

* 图片懒加载

  > 针对有些页面需要大量的图片展示这样的场景，为了保证首屏加载速度通过图片懒加载的形式对图片的展示进行了优化，对于当前可视窗口区域的图片进行加载，而不在在可视窗口内的图片不进行加载；由于展示的图片比较多为了方便调用，将图片懒加载封装成了指令的形式，在指令内部的mounted方法中能够拿到当前的element 将element的src赋值为空，通过intersection observer api判断当前元素是否在可视窗口内 如果在可视窗口内将src替换为正确的图片地址