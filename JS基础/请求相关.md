#### 请求相关

* `Axios`请求流程

  发送`HTTP`请求——执行请求拦截器——派发请求——转换请求数据——使用适配器发送请求——转换响应数据——执行响应拦截器

* 如何取消重复请求

  > 对于`Axios`底层实现逻辑是`XMLHttpRequest`对象，通过`abort()`方法实现重复请求的取消，首先判断重复请求，根据请求方法+请求地址+请求参数可以唯一确定一个请求key，根据`key`判断是否是同一个请求，并为每一个请求创建一个`ConcelToken`对象，将`key`和对应的取消方法保存在`map`对象中；在请求拦截器中进行处理判断当前请求是否是重复请求

* 如何进行请求重试

  > 可以指定重试次数和重试延时时间，当请求失败时，若该请求的配置对象配置了重试次数，`axios`就会重新发起请求进行重试操作。
  >
  > 可以在响应拦截器上实现全局请求重试功能
  >
  > 也可以重新包装适配器实现请求重试

* 请求数据缓存——包装适配器

  > 通过`cache`对象保存当前请求的响应数据并指定过期时间，当`cache`中含有当前请求的响应数据时直接从缓存中取值，否则重新发送请求获取请求的响应数据并存入缓存中

* 前端常见攻击方式

  * `CSRF`——跨站请求伪造，当用户登录某个网站后，攻击者利用用户登录信息进行非法操作的行为
    1. `referer`字段校验——通过`referer`字段判断请求来源

    2. 同步表单校验——将`token`渲染到页面上，提交表单时将此`token`作为查询参数提交给服务端

    3. 双重`cookie`防御——将`token`设置在`cookie`中，提交请求时携带`cookie`，并通过请求头或者请求体带上`Cookie`中已设置的`token`，服务端接收后再进行校验

  * `XSS`——跨站脚本攻击，攻击者利用网站漏洞把恶意的脚本代码注入到网页之中，当其他用户浏览网页时就会执行恶意代码的一种攻击方式，主要可能窃取使用者的`cookie`信息、会话劫持和钓鱼欺骗等各种攻击
    1. 对用户输入进行验证和过滤，过滤掉一些特殊字符和标签，避免注入恶意脚本
    2. 对输出进行转义，在输出到页面之前对输出进行转义，避免一些字符被解释为可执行代码
    3. 对`cookie`采取安全策略，设置`HttpOnly`属性防止`cookie`被脚本读取
    4. 使用内容安全策略`CSP`限制`JavaScript`的来源，防止恶意脚本注入

* 跨域

  与跨域相关的三个字段：`Host`/`Origin`/`Referer`

  > `Host`——请求发送到某个域
  >
  > `Origin`——请求来自某个域，跨域或者同域`post`请求才会携带
  >
  > `Referer`——当前请求的来源页面地址，常用于做防盗链或者数据统计
  
* 前端路由懒加载

  1. 路由的按需加载，只在用户需要访问某个路由时才加载对应的组件或者模块，而不是一次性加载所有资源，降低服务器的压力，提升用户体验。

  2. 依赖于现代`JavaScript`模块打包器和`webpack`打包工具实现，主要步骤为：

     > 路由配置——组件动态导入——模块分割——缓存机制

  3. 组件动态导入

     > `Vue`异步组件技术
     >
     > `webpack`代码分割技术

* 前端打包

  将多个文件或者模块打包成一个或少数几个`JS`文件的过程，达到减少网络请求和优化性能的目的

  打包工具的作用

  > 代码分割——将应用程序拆分成小块，实现按需加载
  >
  > 依赖管理——分析模块间的依赖关系，确保正确的加载和执行
  >
  > 优化资源——压缩代码和图片资源，减少文件大小，提高性能